{"version":3,"sources":["components/RuleList.js","pages/Rules.js","components/CreateUpdateRuleForm.js","pages/CreateUpdateRule.js","context/UserContext.js","pages/Users.js","components/RegionSelector.js","components/CountrySelector.js","components/MarketSelector.js","components/IssuerSegmentationSelector.js","components/LangSelector.js","components/CreateUpdateUserForm.js","pages/CreateUpdateUser.js","pages/Contents.js","pages/ConfigureContentRules.js","pages/SimulateUserSession.js","App.js","index.js"],"names":["RuleList","region","lazy","search","clickAction","useState","rules","setRules","keyword","setKeyword","loading","setLoading","history","useHistory","useEffect","length","a","url","process","params","regions","Axios","get","data","message","error","flex","style","padding","background","size","allowClear","placeholder","value","onChange","e","target","active","paragraph","rows","marginTop","map","item","onClick","_id","push","key","bordered","width","hoverable","display","title","fontSize","color","conditionMatchType","countries","RightCircleOutlined","index","languages","markets","issuerSegmentations","Title","Typography","Rules","type","level","strong","PlusOutlined","Text","Option","Select","CreateUpdateRuleForm","filteredData","setTitle","matchType","setMatchType","selectedRegions","setSelectedRegions","selectedMarkets","setSelectedMarkets","selectedCountries","setSelectedCountries","selectedLanguages","setSelectedLanguages","selectedIssuerSegmentations","setSelectedIssuerSegmentations","mode","filterOption","optionFilterProp","optionLabelProp","label","Group","options","optionType","buttonStyle","values","CreateUpdateRule","useParams","submitting","setSubmitting","setData","setFilteredData","init","initFormData","rule","filter","indexOf","find","onRegionSelect","country","onCountrySelect","handleSubmit","body","put","success","post","className","onBack","subTitle","spinning","float","disabled","UserContext","React","createContext","userListReducer","state","payload","user","UserProvider","children","setUser","useReducer","userList","dispatchUserListAction","Provider","Users","useContext","to","shape","src","image","name","lang","market","issuerSegmentation","avatar","RegionSelector","setRegion","setRegions","CountrySelector","setCountry","setCountries","MarketSelector","setMarket","setMarkets","IssuerSegmentationSelector","setIssuerSegmentation","setIssuerSegmentations","LangSelector","setLang","langs","setLangs","CreateUpdateUserForm","props","setName","prefix","UserOutlined","CreateUpdateUser","span","Contents","showCreateModal","setShowCreateModal","showUpdateModal","setShowUpdateModal","contents","setContents","contentTitle","setContentTitle","currentContent","setCurrentContent","handleCreate","handleUpdate","updated","content","actions","SettingOutlined","EditOutlined","visible","okText","onOk","onCancel","ConfigureContentRules","setContent","updatingRules","setUpdatingRules","setSearch","setLazy","onRuleSelect","newRuleId","ruleIds","warn","onRuleRemove","ruleToRemove","updateRuleMatchType","ruleMatchType","extra","minHeight","orientation","dataSource","renderItem","Item","icon","DeleteOutlined","FundViewOutlined","status","checkedChildren","unCheckedChildren","height","overflowY","SimulateUserSession","textAlign","showSearch","input","option","toLowerCase","selected","gutter","Header","Layout","Content","Footer","App","localStorage","getItem","accepted","setAccepted","notification","warning","duration","description","setItem","onClose","location","useLocation","theme","selectedKeys","pathname","UsergroupAddOutlined","ScheduleOutlined","PicLeftOutlined","LoginOutlined","href","GithubOutlined","backgroundColor","path","paddingTop","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.3749bba8.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Axios from 'axios';\nimport { message, Row, Col, Skeleton, Card, Tag, Input } from 'antd';\nimport { RightCircleOutlined } from '@ant-design/icons'\nimport { useHistory } from 'react-router';\nconst RuleList = ({ region, lazy = false, search, clickAction = null }) => {\n  const [rules, setRules] = useState();\n  const [keyword, setKeyword] = useState();\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    if (search) {\n      setKeyword(search)\n    }\n  }, [search])\n  useEffect(() => {\n    if (!lazy || (lazy && keyword && keyword.length > 2)) {\n      (async () => {\n        let url = `${process.env.REACT_APP_API_URL}/rules`;\n        let params = {};\n        if (region) {\n          params.regions = region\n        }\n        if (keyword) {\n          params.keyword = keyword\n        }\n        try {\n          setLoading(true)\n          const { data } = await Axios.get(url, { params: params });\n          setRules(data)\n          setLoading(false)\n        } catch (e) {\n          setLoading(false)\n          message.error(e.message, 3)\n        }\n      })()\n    }\n  }, [region, lazy, keyword]);\n  const handleClick = (_id) => {\n    if (clickAction) {\n      clickAction(_id)\n    } else {\n      history.push('/rules/update/' + _id)\n    }\n  }\n  return (\n    <>\n      <Row>\n        <Col flex=\"1\" style={{ padding: 25, background: '#ececec' }}>\n          {\n            lazy\n              ? <Input size=\"large\" allowClear placeholder=\"Type something...\" value={keyword} onChange={e => setKeyword(e.target.value)} />\n              : ''\n          }\n          {\n            loading ?\n              <>\n                <Skeleton active paragraph={{ rows: 2 }} />\n                <Skeleton active paragraph={{ rows: 2 }} />\n                <Skeleton active paragraph={{ rows: 2 }} />\n                <Skeleton active paragraph={{ rows: 2 }} />\n              </>\n              : ''\n          }\n          <div style={{ marginTop: 20 }}>\n            {\n              rules && !loading\n                ? rules.map(\n                  item => <Card onClick={() => handleClick(item._id)} key={item._id} bordered style={{ width: '100%', marginTop: 20 }}\n                    hoverable>\n                    <Row>\n                      <Col flex=\"1\">\n                        <h2 style={{ display: 'inline-block' }}>\n                          {item.title}\n                        </h2>\n                      </Col>\n                      <Col flex=\"4\">\n                        <Tag style={{ fontSize: 20 }} color=\"gold\">Match Type : <strong>{item.conditionMatchType}</strong></Tag>\n                        <Tag style={{ fontSize: 20 }} color=\"magenta\">REGIONS : <strong>{item.regions.map(region => ' ' + region.title)}</strong></Tag>\n                        {\n                          item.countries\n                          && item.countries.length\n                          ? <Tag style={{ fontSize: 20 }} color='orange'>\n                            Countries  <RightCircleOutlined />\n                            <strong>\n                              {item.countries.map((value, index) => `${index > 0 ? ' | ' : '  '}` + value.title)}\n                            </strong>\n                          </Tag> : ''\n                        }\n                        {\n                          item.languages\n                          && item.languages.length\n                          ? <Tag style={{ fontSize: 20 }} color='green'>\n                            Languages  <RightCircleOutlined />\n                            <strong>\n                              {item.languages.map((value, index) => `${index > 0 ? ' | ' : '  '}` + value.title)}\n                            </strong>\n                          </Tag> : ''\n                        }\n                        {\n                          item.markets\n                          && item.markets.length\n                          ? <Tag style={{ fontSize: 20 }} color='blue'>\n                            Markets  <RightCircleOutlined />\n                            <strong>\n                              {item.markets.map((value, index) => `${index > 0 ? ' | ' : '  '}` + value.title)}\n                            </strong>\n                          </Tag> : ''\n                        }\n                        {\n                          item.issuerSegmentations\n                          && item.issuerSegmentations.length\n                          ? <Tag style={{ fontSize: 20 }} color='purple'>\n                            Issuer Segmentations  <RightCircleOutlined />\n                            <strong>\n                              {item.issuerSegmentations.map((value, index) => `${index > 0 ? ' | ' : '  '}` + value.title)}\n                            </strong>\n                          </Tag> : ''\n                        }\n                      </Col>\n                    </Row>\n\n                  </Card>\n                )\n                : ''\n            }\n          </div>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default RuleList\n","import React from 'react'\nimport { Row, Col, Typography, Button } from 'antd'\nimport { PlusOutlined } from '@ant-design/icons'\nimport { useHistory } from 'react-router';\nimport RuleList from '../components/RuleList';\nconst { Title } = Typography;\n\nconst Rules = () => {\n  const history = useHistory()\n  return (\n    <>\n      <Row>\n        <Col flex=\"1\" style={{ padding: 25, background: '#ececec' }}>\n          <Title type=\"primary\" level={1} strong>Rules</Title>\n          <br />\n          <Button size=\"large\" type=\"primary\" onClick={() => history.push('/rules/create')}>\n            <PlusOutlined /> Create Rule\n          </Button>\n          <RuleList></RuleList>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default Rules\n","import React from 'react'\nimport { Skeleton, Typography, Input, Select, Radio } from 'antd';\nconst { Text } = Typography;\nconst { Option } = Select;\n\nconst CreateUpdateRuleForm = ({\n  loading,\n  data,\n  filteredData,\n  title, setTitle,\n  matchType, setMatchType,\n  selectedRegions, setSelectedRegions,\n  selectedMarkets, setSelectedMarkets,\n  selectedCountries, setSelectedCountries,\n  selectedLanguages, setSelectedLanguages,\n  selectedIssuerSegmentations, setSelectedIssuerSegmentations,\n}) => {\n\n  return (\n    <>\n      {\n        loading\n          ? <Skeleton active paragraph={{ rows: 12 }} />\n          : ''\n      }\n      {data\n        ? <>\n          <Text type=\"primary\" strong>Title</Text>\n          <Input style={{ width: '100%' }} value={title} onChange={e => setTitle(e.target.value)} size=\"large\" placeholder=\"Enter Title\" />\n          <br />\n          <Text type=\"primary\" strong>Available in Regions</Text>\n          <Select\n            value={selectedRegions}\n            onChange={regions => setSelectedRegions(regions)}\n            mode=\"multiple\"\n            size=\"large\"\n            filterOption\n            optionFilterProp=\"label\"\n            placeholder=\"Select Regions\"\n            style={{ width: '100%' }}\n            optionLabelProp=\"label\"\n          >\n            {\n              data.regions.map(item => {\n                return <Option key={item._id} value={item._id} label={item.title}>{item.title}</Option>\n              })\n            }\n          </Select>\n          <h3 style={{marginTop: \"10px\"}}>Configure Conditions</h3>\n          <Text type=\"primary\" strong>Match Type</Text>\n          <br />\n          <Radio.Group\n            options={[{ label: 'Match All', value: 'ALL' }, { label: 'Match Any', value: 'ANY' }]}\n            onChange={e=> setMatchType(e.target.value)}\n            value={matchType}\n            optionType=\"button\"\n            buttonStyle=\"solid\"\n          />\n          <br />\n          <Text type=\"primary\" strong>Markets</Text>\n          <Select\n            value={selectedMarkets}\n            onChange={(markets) => setSelectedMarkets(markets)}\n            mode=\"multiple\"\n            filterOption\n            optionFilterProp=\"label\"\n            size=\"large\"\n            placeholder=\"Select Markets\"\n            style={{ width: '100%' }}\n            optionLabelProp=\"label\"\n          >\n            {\n              filteredData && filteredData.markets && filteredData.markets.map(item => {\n                return <Option key={item._id} value={item._id} label={item.title}>{item.title}</Option>\n              })\n            }\n          </Select>\n          <Text type=\"primary\" strong>Issuer Segmentations</Text>\n          <Select\n            value={selectedIssuerSegmentations}\n            onChange={values => setSelectedIssuerSegmentations(values)}\n            mode=\"multiple\"\n            size=\"large\"\n            placeholder=\"Select Segmentations\"\n            style={{ width: '100%' }}\n            filterOption\n            optionFilterProp=\"label\"\n            optionLabelProp=\"label\"\n          >\n            {\n              filteredData && filteredData.issuerSegmentations && filteredData.issuerSegmentations.map(item => {\n                return <Option key={item._id} value={item._id} label={item.title}>{item.title}</Option>\n              })\n            }\n          </Select>\n          <Text type=\"primary\" strong>Countries</Text>\n          <Select\n            mode=\"multiple\"\n            size=\"large\"\n            placeholder=\"Select Countries\"\n            style={{ width: '100%' }}\n            value={selectedCountries}\n            onChange={countries => setSelectedCountries(countries)}\n            filterOption\n            optionFilterProp=\"label\"\n            optionLabelProp=\"label\"\n          >\n            {\n              filteredData && filteredData.countries && filteredData.countries.map(item => {\n                return <Option key={item._id} value={item._id} label={item.title}>{item.title}</Option>\n              })\n            }\n          </Select>\n          <Text type=\"primary\" strong>Languages</Text>\n          <Select\n            value={selectedLanguages}\n            onChange={languages => setSelectedLanguages(languages)}\n            mode=\"multiple\"\n            size=\"large\"\n            placeholder=\"Select Languages\"\n            style={{ width: '100%' }}\n            optionLabelProp=\"label\"\n            filterOption\n            optionFilterProp=\"label\"\n          >\n            {\n              filteredData && filteredData.languages && filteredData.languages.map(item => {\n                return <Option key={item._id} value={item._id} label={item.title}>{item.title}</Option>\n              })\n            }\n          </Select>\n        </>\n        : ''\n      }\n    </>\n  )\n}\n\nexport default CreateUpdateRuleForm\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react'\nimport Axios from 'axios'\nimport { message, Row, Col, Card, Space, Button, Spin, PageHeader } from 'antd';\nimport CreateUpdateRuleForm from '../components/CreateUpdateRuleForm';\nimport { useHistory, useParams } from 'react-router';\n\nconst CreateUpdateRule = () => {\n  const history = useHistory()\n  const { _id } = useParams()\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [data, setData] = useState();\n  const [filteredData, setFilteredData] = useState({});\n  const [selectedRegions, setSelectedRegions] = useState([]);\n  const [selectedMarkets, setSelectedMarkets] = useState([]);\n  const [selectedCountries, setSelectedCountries] = useState([]);\n  const [selectedLanguages, setSelectedLanguages] = useState([]);\n  const [selectedIssuerSegmentations, setSelectedIssuerSegmentations] = useState([]);\n  const [title, setTitle] = useState();\n  const [matchType, setMatchType] = useState('ALL');\n  const init = async () => {\n    setLoading(true);\n    try {\n      const { data: regions } = await Axios.get(`${process.env.REACT_APP_API_URL}/regions`);\n      const { data: markets } = await Axios.get(`${process.env.REACT_APP_API_URL}/markets`);\n      const { data: issuerSegmentations } = await Axios.get(`${process.env.REACT_APP_API_URL}/issuer-segmentations`);\n      const { data: countries } = await Axios.get(`${process.env.REACT_APP_API_URL}/countries`);\n      const { data: languages } = await Axios.get(`${process.env.REACT_APP_API_URL}/languages`);\n      setData({ regions, markets, issuerSegmentations, countries, languages })\n      if (_id) {\n        initFormData()\n      }\n      setLoading(false)\n    } catch (e) {\n      setLoading(false)\n      message.error(e.message, 3)\n    }\n\n  }\n  const initFormData = async () => {\n    const { data: rule } = await Axios.get(`${process.env.REACT_APP_API_URL}/rules/${_id}`);\n    setTitle(rule.title);\n    setMatchType(rule.conditionMatchType);\n    setSelectedLanguages(rule.languages);\n    setSelectedMarkets(rule.markets);\n    setSelectedIssuerSegmentations(rule.issuerSegmentations)\n    setSelectedCountries(rule.countries);\n    setSelectedRegions(rule.regions);\n  }\n  const onRegionSelect = () => {\n    if (data) {\n      const markets = data.markets.filter(({ region }) => selectedRegions.indexOf(region) !== -1)\n      const issuerSegmentations = data.issuerSegmentations.filter(({ region }) => selectedRegions.indexOf(region) !== -1)\n      const countries = data.countries.filter(({ region }) => selectedRegions.indexOf(region) !== -1)\n      // clear selected data for dependent fields\n      setSelectedMarkets(selectedMarkets.filter(value => {\n        const target = data.markets.find(item => item._id === value)\n        return selectedRegions.indexOf(target.region) !== -1\n      }))\n      setSelectedIssuerSegmentations(selectedIssuerSegmentations.filter(\n        value => {\n          const target = data.issuerSegmentations.find(item => item._id === value)\n          return selectedRegions.indexOf(target.region) !== -1\n        }\n      ))\n      setSelectedCountries(selectedCountries.filter(\n        value => {\n          const target = data.countries.find(item => item._id === value)\n          return selectedRegions.indexOf(target.region) !== -1\n        }\n      ))\n      // following data will be used for showing filtered data in select options\n      setFilteredData({ markets, issuerSegmentations, countries })\n    }\n  }\n  const onCountrySelect = () => {\n    if (data) {\n      // clear selected data for dependent fields\n      setSelectedLanguages(selectedLanguages.filter(\n        value => {\n          const target = data.languages.find(item => item._id === value)\n          return selectedCountries.indexOf(target.country) !== -1\n        }\n      ))\n      // filter languages to show in options\n      const languages = data.languages.filter(({ country }) => selectedCountries.indexOf(country) !== -1)\n      setFilteredData({ ...filteredData, languages })\n    }\n  }\n  useEffect(() => {\n    init()\n  }, [])\n\n  useEffect(() => {\n    if (selectedRegions) {\n      onRegionSelect()\n    }\n  }, [selectedRegions])\n\n  useEffect(() => {\n    if (selectedCountries) {\n      onCountrySelect()\n    }\n  }, [selectedCountries])\n\n  const handleSubmit = async () => {\n    setSubmitting(true)\n    if (\n      selectedCountries.length === 0\n      && selectedLanguages.length === 0\n      && selectedMarkets.length === 0\n      && selectedIssuerSegmentations.length === 0\n    ) {\n      message.error('Rules without conditions have no significance!', 3);\n      setSubmitting(false)\n      return\n    }\n    const body = {\n      title,\n      regions: selectedRegions,\n      conditionMatchType: matchType,\n      countries: selectedCountries,\n      markets: selectedMarkets,\n      languages: selectedLanguages,\n      issuerSegmentations: selectedIssuerSegmentations\n    }\n    try {\n      if (_id) {\n        await Axios.put(`${process.env.REACT_APP_API_URL}/rules/${_id}`, body);\n        message.success('Rule Updated Successfully', 3)\n        history.push('/rules')\n      } else {\n        await Axios.post(`${process.env.REACT_APP_API_URL}/rules`, body);\n        message.success('Rule Created Successfully', 3)\n        history.push('/rules')\n      }\n    } catch (e) {\n      message.error(e.message, 3)\n      setSubmitting(false)\n    }\n  }\n\n  return (\n    <>\n      <PageHeader\n        className=\"site-page-header\"\n        onBack={() => history.push('/rules')}\n        title=\"Back to Rules\"\n        subTitle=\"Manage rules associated with content\"\n      />\n\n      <Row>\n        <Col flex=\"1\"></Col>\n        <Col flex=\"1\">\n          <Card bordered>\n            <h2>{_id ? 'Update Rule' : 'Create Rule'}</h2>\n            <Spin size=\"large\" spinning={submitting}>\n              <CreateUpdateRuleForm {...{\n                loading, setLoading,\n                data, setData,\n                filteredData, setFilteredData,\n                selectedRegions, setSelectedRegions,\n                selectedMarkets, setSelectedMarkets,\n                selectedCountries, setSelectedCountries,\n                selectedLanguages, setSelectedLanguages,\n                selectedIssuerSegmentations, setSelectedIssuerSegmentations,\n                title, setTitle,\n                matchType, setMatchType\n              }} />\n              <Space style={{ float: 'left', marginTop: '25px' }}>\n                <Button onClick={() => { history.push('/rules') }} size=\"large\" >Cancel</Button>\n              </Space>\n              <Space style={{ float: 'right', marginTop: '25px' }}>\n                <Button disabled={!(selectedRegions && selectedRegions.length > 0) || !title || !matchType} onClick={handleSubmit} size=\"large\" type=\"primary\">{_id ? 'Update' : 'Create'}</Button>\n              </Space>\n            </Spin>\n          </Card>\n        </Col>\n        <Col flex=\"1\"></Col>\n      </Row>\n    </>\n  )\n}\n\nexport default CreateUpdateRule\n","import React, { useState, useReducer, useEffect } from 'react'\nimport Axios from 'axios';\nimport { message } from 'antd';\nexport const UserContext = React.createContext();\n\nconst userListReducer = (state, { type, payload }) => {\n  switch (type) {\n    case 'INIT':\n      return payload;\n    case 'ADD':\n      return [payload, ...state];\n    case 'UPDATE':\n      const updated = state.map(user => {\n        if (user._id === payload._id) {\n          return payload\n        }\n        return user;\n      });\n      return updated;\n    default:\n      return state;\n  }\n}\n\nconst UserProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [userList, dispatchUserListAction] = useReducer(userListReducer, null);\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/users`);\n        dispatchUserListAction({ type: 'INIT', payload: data })\n      } catch (e) {\n        message.error(e.message, 3)\n      }\n    })()\n  }, [])\n  useEffect(() => {\n    if (userList && user) {\n      // update the currently set user\n      setUser(userList.find(({_id})=> _id === user._id))\n    }\n  }, [userList, user, setUser])\n  return (\n    <UserContext.Provider value={{ user, setUser, userList, dispatchUserListAction }}>{children}</UserContext.Provider>\n  )\n}\n\nexport default UserProvider\n","import React, { useContext } from 'react'\nimport { Row, Col, Card, Button, Typography, Skeleton, Tag } from 'antd'\nimport { PlusOutlined } from '@ant-design/icons'\nimport Avatar from 'antd/lib/avatar/avatar';\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContext } from '../context/UserContext';\nconst { Title} = Typography;\n\nconst Users = () => {\n  const history = useHistory();\n  const { userList } = useContext(UserContext)\n  return (\n    <>\n      <Row>\n        <Col flex=\"1\" style={{ padding: 25, background: '#ececec' }}>\n          <Title type=\"primary\" level={1} strong>Users</Title>\n          <br />\n          <Button size=\"large\" type=\"primary\" onClick={() => history.push('/users/create')}>\n            <PlusOutlined /> Create User\n          </Button>\n          <div style={{ marginTop: 20 }}>\n            {\n              userList\n                ? userList.map(\n                  item => <Row key={item._id}>\n                    <Col flex=\"1\">\n                      <div style={{}}>\n                        <Link to={`/users/update/${item._id}`}>\n                        <Card bordered style={{ width: '100%', marginTop: 20 }}\n                          hoverable>\n                          <Avatar shape=\"circle\" size={64} src={item.image} />\n                          <h2 style={{ display: 'inline-block' }}>\n                            {item.name}\n                          </h2>\n                          <h3>\n                            <Tag color=\"magenta\">REGION : <strong>{item.region.title}</strong></Tag>\n                            <Tag color=\"orange\">COUNTRY : <strong>{item.country.title}</strong> </Tag>\n                            <Tag color=\"green\">LANGUAGE : <strong>{item.lang.title}</strong> </Tag>\n                            <Tag color=\"blue\">MARKET : <strong>{item.market.title}</strong> </Tag>\n                            <Tag color=\"purple\">SEGMENT : <strong>{item.issuerSegmentation.title}</strong></Tag>\n                          </h3>\n                          </Card>\n                          </Link>\n                      </div>\n                    </Col>\n                  </Row>\n                )\n                : <>\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                </>\n            }\n          </div>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default Users\n","import React, { useEffect, useState } from 'react'\nimport { Select, Typography } from 'antd';\nimport Axios from 'axios';\nconst { Option } = Select;\nconst { Text } = Typography;\nconst RegionSelector = ({ region, setRegion }) => {\n  const [regions, setRegions] = useState([]);\n  useEffect(() => {\n    (async () => {\n      const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/regions`);\n      setRegions(data);\n    })()\n  }, [])\n  return (\n    <>\n      <Text type=\"primary\" strong>Region</Text>\n      <br />\n      <Select value={region} size='large' style={{ width: '100%' }} onChange={setRegion} loading={!regions.length}>\n        <Option value={null}>Select Region</Option>\n        {\n          regions && regions.map(\n            item => <Option key={item._id} value={item._id}>{item.title}</Option>\n          )\n        }\n      </Select>\n      <br/>\n    </>\n  )\n}\n\nexport default RegionSelector\n","/* eslint-disable react-hooks/exhaustive-deps */\n\nimport React, { useEffect, useState } from 'react'\nimport { Select, Typography } from 'antd';\nimport Axios from 'axios';\nconst { Option } = Select;\nconst { Text } = Typography;\n\nconst CountrySelector = ({ region, country, setCountry }) => {\n  const [countries, setCountries] = useState([]);\n  useEffect(() => {\n    if (region) {\n      setCountries([]);\n      (async () => {\n        const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/countries?region=${region}`);\n        setCountries(data);\n        const match = data.find(item => item._id === country)\n        if (!match) {\n          setCountry(null);\n        }\n      })()\n    } else {\n      setCountries([]);\n    }\n  }, [region, setCountry])\n  return (\n    <>\n      <Text type=\"primary\" strong>Country</Text>\n      <br />\n      <Select value={country} size='large' style={{ width: '100%' }} onChange={setCountry} loading={!countries.length}>\n        <Option value={null}>Select Country</Option>\n        {\n          countries && countries.map(\n            item => <Option key={item._id} value={item._id}>{item.title}</Option>\n          )\n        }\n      </Select>\n      <br/>\n    </>\n  )\n}\n\nexport default CountrySelector\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react'\nimport { Select, Typography } from 'antd';\nimport Axios from 'axios';\nconst { Option } = Select;\nconst { Text } = Typography;\n\nconst MarketSelector = ({ region, market, setMarket }) => {\n  const [markets, setMarkets] = useState([]);\n  useEffect(() => {\n    if (region) {\n      setMarkets([]);\n      (async () => {\n        const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/markets?region=${region}`);\n        setMarkets(data);\n        const match = data.find(item => item._id === market)\n        if (!match) {\n          setMarket(null);\n        }\n      })()\n    } else {\n      setMarkets([]);\n    }\n  }, [region, setMarket])\n  return (\n    <>\n      <Text type=\"primary\" strong>Market</Text>\n      <br />\n      <Select value={market} size='large' style={{ width: '100%' }} onChange={setMarket} loading={!markets.length}>\n        <Option value={null}>Select Market</Option>\n        {\n          markets && markets.map(\n            item => <Option key={item._id} value={item._id}>{item.title}</Option>\n          )\n        }\n      </Select>\n      <br/>\n    </>\n  )\n}\n\nexport default MarketSelector\n","/* eslint-disable react-hooks/exhaustive-deps */\n\nimport React, { useEffect, useState } from 'react'\nimport { Select, Typography } from 'antd';\nimport Axios from 'axios';\nconst { Option } = Select;\nconst { Text } = Typography;\n\nconst IssuerSegmentationSelector = ({ region, issuerSegmentation, setIssuerSegmentation }) => {\n  const [issuerSegmentations, setIssuerSegmentations] = useState([]);\n  useEffect(() => {\n    if (region) {\n      setIssuerSegmentations([]);\n      (async () => {\n        const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/issuer-segmentations?region=${region}`);\n        setIssuerSegmentations(data);\n        const match = data.find(item => item._id === issuerSegmentation)\n        if (!match) {\n          setIssuerSegmentation(null);\n        }\n      })()\n    } else {\n      setIssuerSegmentations([]);\n    }\n  }, [region, setIssuerSegmentation])\n  return (\n    <>\n      <Text type=\"primary\" strong>Issuer Segmentation</Text>\n      <br />\n      <Select value={issuerSegmentation} size='large' style={{ width: '100%' }} onChange={setIssuerSegmentation} loading={!issuerSegmentations.length}>\n        <Option value={null}>Select IssuerSegmentation</Option>\n        {\n          issuerSegmentations && issuerSegmentations.map(\n            item => <Option key={item._id} value={item._id}>{item.title}</Option>\n          )\n        }\n      </Select>\n      <br/>\n    </>\n  )\n}\n\nexport default IssuerSegmentationSelector\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react'\nimport { Select, Typography } from 'antd';\nimport Axios from 'axios';\nconst { Option } = Select;\nconst { Text } = Typography;\n\nconst LangSelector = ({ country, lang, setLang }) => {\n  const [langs, setLangs] = useState([]);\n  useEffect(() => {\n    if (country) {\n      setLangs([]);\n      (async () => {\n        const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/languages?country=${country}`);\n        setLangs(data);\n        const match = data.find(item => item._id === lang)\n        if (!match) {\n          setLang(null);\n        }\n      })()\n    } else {\n      setLangs([]);\n    }\n  }, [country, setLang])\n  return (\n    <>\n      <Text type=\"primary\" strong>Language</Text>\n      <br />\n      <Select value={lang} size='large' style={{ width: '100%' }} onChange={setLang} loading={!langs.length}>\n        <Option value={null}>Select Lang</Option>\n        {\n          langs && langs.map(\n            item => <Option key={item._id} value={item._id}>{item.title}</Option>\n          )\n        }\n      </Select>\n      <br />\n      <br/>\n    </>\n  )\n}\n\nexport default LangSelector\n","import React from 'react'\n\nimport RegionSelector from './RegionSelector';\nimport CountrySelector from './CountrySelector';\nimport MarketSelector from './MarketSelector';\nimport IssuerSegmentationSelector from './IssuerSegmentationSelector';\nimport LangSelector from './LangSelector';\nimport { Input, Typography } from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\n\nconst { Text } = Typography;\n\nconst CreateUpdateUserForm = (props) => {\n  const {\n    name, setName,\n    region, setRegion,\n    country, setCountry,\n    market, setMarket,\n    issuerSegmentation, setIssuerSegmentation,\n    lang, setLang\n  } = props\n  return (\n    <>\n      <Text type=\"primary\" strong>Name</Text>\n      <br />\n      <Input style={{ width: '100%' }} value={name} onChange={e => setName(e.target.value)} size=\"large\" placeholder=\"Enter Name\" prefix={<UserOutlined />} />\n      <br />\n      <RegionSelector {...{ region, setRegion }} />\n      <MarketSelector {...{ region, market, setMarket }} />\n      <IssuerSegmentationSelector {...{ region, issuerSegmentation, setIssuerSegmentation }} />\n      <CountrySelector {...{ region, country, setCountry }} />\n      <LangSelector {...{ country, lang, setLang }} />\n    </>\n  )\n}\n\nexport default CreateUpdateUserForm\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory } from 'react-router'\nimport Axios from 'axios'\nimport { message, Row, Col, Card, Skeleton, Button, Space, Spin, PageHeader } from 'antd'\nimport CreateUpdateUserForm from '../components/CreateUpdateUserForm'\nimport { UserContext } from '../context/UserContext'\n\nconst CreateUpdateUser = () => {\n  const { dispatchUserListAction } = useContext(UserContext)\n  const history = useHistory();\n  const { _id } = useParams()\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [name, setName] = useState(null);\n  const [region, setRegion] = useState(null);\n  const [country, setCountry] = useState(null);\n  const [lang, setLang] = useState(null);\n  const [market, setMarket] = useState(null);\n  const [issuerSegmentation, setIssuerSegmentation] = useState(null);\n\n  useEffect(() => {\n    if (_id) {\n      (async () => {\n        setLoading(true);\n        try {\n          const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/users/${_id}`);\n          init(data)\n        } catch (e) {\n          message.error(e.message, 3)\n          setLoading(false)\n        }\n      })()\n    }\n  }, [_id])\n  const init = (user) => {\n    setName(user.name)\n    setRegion(user.region._id)\n    setMarket(user.market._id)\n    setIssuerSegmentation(user.issuerSegmentation._id)\n    setCountry(user.country._id)\n    setLang(user.lang._id)\n    setLoading(false)\n  }\n  const handleSubmit = async () => {\n    setSubmitting(true);\n    try {\n      if (_id) {\n        const { data } = await Axios.put(`${process.env.REACT_APP_API_URL}/users/${_id}`, { name, region, country, lang: lang, market, issuerSegmentation });\n        dispatchUserListAction({ type: 'UPDATE', payload: data });\n      } else {\n        const { data } = await Axios.post(`${process.env.REACT_APP_API_URL}/users`, { name, region, country, lang: lang, market, issuerSegmentation });\n        dispatchUserListAction({ type: 'ADD', payload: data });\n        message.success('User Created Successfully', 3)\n      }\n      history.push('/users')\n    } catch (e) {\n      message.error(e.message, 3)\n      setSubmitting(false)\n    }\n  }\n  return (\n    <>\n      <PageHeader\n        className=\"site-page-header\"\n        onBack={() => history.push('/users')}\n        title=\"Users\"\n      />\n      <Row>\n        <Col span={8} />\n        <Col span={8}>\n          <Card bordered>\n            <h2>{_id ? 'Update User' : 'Create User'}</h2>\n            {!loading\n              ? <>\n                <Spin size=\"large\" spinning={submitting}>\n                  <CreateUpdateUserForm {\n                    ...{\n                      name, setName,\n                      region, setRegion,\n                      country, setCountry,\n                      market, setMarket,\n                      issuerSegmentation, setIssuerSegmentation,\n                      lang, setLang\n                    }\n                  } />\n                  <Space style={{ float: 'left' }}>\n                    <Button onClick={() => { history.push('/users') }} size=\"large\" >Cancel</Button>\n                  </Space>\n                  <Space style={{ float: 'right' }}>\n                    <Button disabled={!name || !region || !country || !market || !issuerSegmentation || !lang} onClick={handleSubmit} size=\"large\" type=\"primary\">{_id ? 'Update' : 'Create'}</Button>\n                  </Space>\n                </Spin>\n              </>\n              : <Skeleton active paragraph={{ rows: 10 }} />\n            }\n          </Card>\n        </Col>\n        <Col span={8} />\n      </Row>\n    </>\n  )\n}\n\nexport default CreateUpdateUser\n","import React, { useState, useEffect } from 'react'\nimport { Row, Col, Card, Button, Typography, message, Skeleton, Tag, Input, Spin } from 'antd'\nimport { PlusOutlined, SettingOutlined, EditOutlined } from '@ant-design/icons'\nimport Axios from 'axios';\nimport Avatar from 'antd/lib/avatar/avatar';\nimport { useHistory } from 'react-router-dom';\nimport Modal from 'antd/lib/modal/Modal';\nconst { Title } = Typography;\nconst Contents = () => {\n  const history = useHistory();\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [showUpdateModal, setShowUpdateModal] = useState(false)\n  const [contents, setContents] = useState();\n  const [contentTitle, setContentTitle] = useState();\n  const [currentContent, setCurrentContent] = useState();\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/contents`);\n        setContents(data)\n      } catch (e) {\n        message.error(e.message, 3)\n      }\n    })()\n  }, []);\n  const handleCreate = async () => {\n    if (contentTitle) {\n      setSubmitting(true)\n      try {\n        const { data } = await Axios.post(`${process.env.REACT_APP_API_URL}/contents`, { title: contentTitle });\n        setContents([data, ...contents])\n        setShowCreateModal(false)\n        setSubmitting(false)\n        setContentTitle(null)\n      } catch (e) {\n        message.error(e.message, 3)\n        setSubmitting(false)\n      }\n    }\n  }\n  const handleUpdate = async () => {\n    if (currentContent && currentContent.title) {\n\n      setSubmitting(true)\n      try {\n        const { data } = await Axios.put(`${process.env.REACT_APP_API_URL}/contents/${currentContent._id}`, { title: currentContent.title });\n        const updated = contents.map(content => {\n          if (content._id === data._id) {\n            return data;\n          }\n          return content\n        })\n        setContents(updated)\n        setShowUpdateModal(false)\n        setSubmitting(false)\n        setCurrentContent(null)\n      } catch (e) {\n        message.error(e.message, 3)\n        setSubmitting(false)\n      }\n    }\n  }\n  return (\n    <>\n      <Row>\n        <Col flex=\"1\" style={{ padding: 25, background: '#ececec' }}>\n          <Title type=\"primary\" level={1} strong>Contents</Title>\n          <br />\n          <Button size=\"large\" type=\"primary\" onClick={() => setShowCreateModal(true)}>\n            <PlusOutlined /> Create Content\n          </Button>\n          <Row style={{ marginTop: 20 }}>\n            {\n              contents\n                ? contents.map(\n                  item => <Col span={8} key={item._id}>\n                    <Card\n                      style={{ width: 500, marginTop: 16 }}\n                      actions={[\n                        <><SettingOutlined key=\"rules\" onClick={() => history.push(`/contents/${item._id}`)} /> Rules</>,\n                        <><EditOutlined key=\"edit\" onClick={() => { setCurrentContent(item); setShowUpdateModal(true) }} />Edit</>\n                      ]}\n                    >\n                      <Avatar shape=\"circle\" size={100} src={item.image} />\n                      <h2 style={{ display: 'inline-block' }}>\n                        {item.title}\n                        <br />\n                        {\n                          item.rules && item.rules.length > 0\n                            ? <Tag color=\"green\"><strong>Rules Applied</strong></Tag>\n                            : <Tag color=\"red\"><strong>No Rules</strong></Tag>\n                        }\n                      </h2>\n                    </Card>\n                  </Col>\n                )\n                : <>\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                  <Skeleton active avatar paragraph={{ rows: 2 }} />\n                </>\n            }\n          </Row>\n        </Col>\n      </Row>\n      <Modal\n        title=\"Create Content\"\n        visible={showCreateModal}\n        okText='Create'\n        onOk={handleCreate}\n        onCancel={() => setShowCreateModal(false)}\n      >\n        <Spin size=\"large\" spinning={submitting}>\n          <Input placeholder=\"Content Title\"\n            value={contentTitle}\n            onChange={e => setContentTitle(e.target.value)}\n          />\n        </Spin>\n      </Modal>\n      <Modal\n        title=\"Update Content\"\n        visible={showUpdateModal}\n        onOk={handleUpdate}\n        okText='Update'\n        onCancel={() => setShowUpdateModal(false)}\n      >\n        <Spin size=\"large\" spinning={submitting}>\n          {\n            currentContent\n              ? <Input placeholder=\"Content Title\"\n                value={currentContent.title}\n                onChange={e => { setCurrentContent({ ...currentContent, title: e.target.value }) }}\n              />\n              : ''\n          }\n        </Spin>\n      </Modal>\n    </>\n  )\n}\n\nexport default Contents\n","import React, { useState, useEffect} from 'react'\nimport { List, Row, Switch, Col, Card, message, Skeleton, Spin, Typography, Divider, Result, Button, Space, PageHeader, Radio } from 'antd'\nimport RuleList from '../components/RuleList'\nimport { useParams, useHistory } from 'react-router';\nimport Axios from 'axios';\nimport Avatar from 'antd/lib/avatar/avatar';\nimport { DeleteOutlined, FundViewOutlined } from '@ant-design/icons'\nimport RegionSelector from '../components/RegionSelector';\nconst { Title, Text } = Typography\nconst ConfigureContentRules = () => {\n  const history = useHistory();\n  const { _id } = useParams();\n  const [loading, setLoading] = useState(false);\n  const [content, setContent] = useState();\n  const [updatingRules, setUpdatingRules] = useState(false);\n  const [search, setSearch] = useState();\n  const [region, setRegion] = useState('5f22f961ab69d5439029b3e8');\n  const [lazy, setLazy] = useState(true)\n  const onRuleSelect = async (newRuleId) => {\n    // get current rule list , add this rule to that & update the content with it\n    const ruleIds = content.rules.map(({ _id }) => _id)\n    if (ruleIds.indexOf(newRuleId) === -1) {\n      setUpdatingRules(true)\n      ruleIds.push(newRuleId)\n      try {\n        const { data } = await Axios.put(`${process.env.REACT_APP_API_URL}/contents/${_id}`, { rules: ruleIds });\n        setContent(data);\n        setUpdatingRules(false)\n      } catch (e) {\n        message.error(e.message)\n        setUpdatingRules(false)\n      }\n    } else {\n      message.warn('The rule you are trying to apply, is already applied to this content', 5)\n    }\n  }\n  const onRuleRemove = async (ruleToRemove) => {\n    setUpdatingRules(true)\n    let ruleIds = content.rules.map(({ _id }) => _id)\n    ruleIds = ruleIds.filter(_id => _id !== ruleToRemove)\n    try {\n      const { data } = await Axios.put(`${process.env.REACT_APP_API_URL}/contents/${_id}`, { rules: ruleIds });\n      setContent(data);\n      setUpdatingRules(false)\n    } catch (e) {\n      message.error(e.message)\n      setUpdatingRules(false)\n    }\n  }\n  const updateRuleMatchType = async (ruleMatchType) => {\n    setUpdatingRules(true)\n    try {\n      const { data } = await Axios.put(`${process.env.REACT_APP_API_URL}/contents/${_id}`, { ruleMatchType });\n      setContent(data);\n      setUpdatingRules(false)\n      message.success(`Updated: ${ruleMatchType} rule(s) will be matched during content targetting for users!`)\n    } catch (e) {\n      message.error(e.message)\n      setUpdatingRules(false)\n    }\n  }\n  useEffect(() => {\n    if (_id) {\n      setLoading(true)\n      try {\n        (async () => {\n          const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/contents/${_id}`);\n          setContent(data)\n          setLoading(false)\n        })()\n      } catch (e) {\n        message.error(e.message)\n        setLoading(false)\n      }\n    }\n  }, [_id])\n  return (\n    <>\n      <PageHeader\n        className=\"site-page-header\"\n        onBack={() => history.push('/contents')}\n        title=\"Back\"\n        subTitle=\"Manage rules associated with content\"\n        extra={\n          (\n            <div style={{width: 200}}>\n              Currently Managing:  <RegionSelector {...{ region, setRegion }} />\n            </div>\n          )\n        }\n      >\n      </PageHeader>\n\n      <Row>\n        <Col span={12}>\n          <Card title=\"Content Details\" bordered style={{ width: '100%', minHeight: '80vh' }}>\n            <Spin size=\"large\" spinning={loading}>\n              {\n                content ?\n                  <>\n                    <Row>\n                      <Col span=\"6\">\n                        <Avatar shape=\"circle\" size={50} src={content.image} />\n                      </Col>\n                      <Col span=\"18\">\n                        <Title level={4} style={{ marginTop: 20 }}>{content.title}</Title>\n                      </Col>\n                    </Row>\n                    <Divider orientation=\"left\">Rules</Divider>\n                    {\n                      updatingRules\n                        ? <Skeleton active paragraph={{ rows: 20 }}></Skeleton>\n                        : content.rules && content.rules.length > 0\n                          ? <>\n                            <Text type=\"primary\" strong>Match Type</Text>\n                            <br />\n                            <Radio.Group\n                              options={[{ label: 'Match All', value: 'ALL' }, { label: 'Match Any', value: 'ANY' }]}\n                              onChange={e => updateRuleMatchType(e.target.value)}\n                              value={content.ruleMatchType}\n                              optionType=\"button\"\n                              buttonStyle=\"solid\"\n                            />\n                            <br />\n                            <List\n                              size=\"large\"\n                              bordered\n                              dataSource={content.rules}\n                              renderItem={\n                                item => <List.Item>\n                                  <Text>{item.title}</Text>\n                                  <Space>\n                                    <Button onClick={() => onRuleRemove(item._id)} title=\"Remove Rule\" type=\"danger\" shape=\"circle\" icon={<DeleteOutlined />} />\n                                    <Button onClick={() => setSearch(item.title)} type=\"primary\" icon={<FundViewOutlined />}>View Dteails</Button>\n                                  </Space>\n                                </List.Item>\n                              }\n                            />\n                          </>\n                          : <Result\n                            status=\"404\"\n                            title=\"No Rules Applied\"\n                            subTitle=\"Search rules from sidebar & click to apply\"\n                            extra={<Title level={4}>This content is visible to all by default!</Title>}\n                          />\n                    }\n                  </>\n                  : ''\n              }\n            </Spin>\n          </Card>\n        </Col>\n        <Col span={12}>\n          <Card title=\"Search & Apply Rules\" bordered style={{ width: '100%', minHeight: '80vh' }}>\n            <Switch checkedChildren=\"Search Only\" unCheckedChildren=\"Show All\" onChange={() => setLazy(!lazy) && setSearch(null)} />\n            <div style={{ height: '90vh', overflowY: 'auto' }}>\n              <RuleList search={search} region={region} lazy={lazy} clickAction={onRuleSelect}></RuleList>\n            </div>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default ConfigureContentRules\n","import React, { useContext, useState, useEffect } from 'react'\nimport { UserContext } from '../context/UserContext'\nimport { Select, message, Result, Card, Tag, Spin, Row, Col } from 'antd'\nimport Axios from 'axios';\nimport Avatar from 'antd/lib/avatar/avatar';\nimport { Link } from 'react-router-dom';\nconst { Option } = Select;\n\nconst SimulateUserSession = () => {\n  const { user, setUser, userList } = useContext(UserContext)\n  const [loading, setLoading] = useState(false)\n  const [contents, setContents] = useState()\n  const onUserSelect = (value) => {\n    const selected = userList.find(({ _id }) => _id === value)\n    setUser(selected)\n  }\n  useEffect(() => {\n    if (user) {\n      setLoading(true);\n      (async () => {\n        try {\n          const { data } = await Axios.get(`${process.env.REACT_APP_API_URL}/targetted-contents/${user._id}`);\n          setContents(data)\n          setLoading(false)\n        } catch (e) {\n          message.error(e.message, 3)\n          setLoading(false)\n        }\n      })()\n    }\n\n  }, [user])\n  return (\n    <>\n      <div style={{ textAlign: 'center' }}>\n        <Select\n          loading={!userList}\n          value={user && user._id}\n          size='large'\n          showSearch\n          style={{ width: 200 }}\n          placeholder=\"Select a User\"\n          optionFilterProp=\"children\"\n          filterOption={(input, option) =>\n            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n          }\n          onChange={onUserSelect}\n        >\n          {\n            userList && userList.map(user => <Option key={user._id} value={user._id}>{user.name}</Option>)\n          }\n        </Select>\n      </div>\n      <div>\n\n        {\n          user\n            ? <>\n              <Card bordered style={{ width: '100%', marginTop: 20 }}>\n                <Avatar shape=\"circle\" size={40} src={user.image} />\n                <h4 style={{ display: 'inline-block' }}>\n                  {user.name} &nbsp;\n                  <Tag color=\"magenta\">REGION : <strong>{user.region.title}</strong></Tag>\n                  <Tag color=\"orange\">COUNTRY : <strong>{user.country.title}</strong> </Tag>\n                  <Tag color=\"green\">LANGUAGE : <strong>{user.lang.title}</strong> </Tag>\n                  <Tag color=\"blue\">MARKET : <strong>{user.market.title}</strong> </Tag>\n                  <Tag color=\"purple\">SEGMENT : <strong>{user.issuerSegmentation.title}</strong></Tag>\n                </h4>\n              </Card>\n              <Spin size=\"large\" spinning={loading}>\n                <Row gutter={3}>\n                  {\n                    contents ? contents.map((content) => {\n                      return <Col span=\"6\" key={content._id}>\n                        <Card bordered style={{ height: '100%', width: '100%', marginTop: 20 }}>\n                          <Avatar shape=\"circle\" size={64} src={content.image} />\n                          <h3 style={{ display: 'inline-block' }}>\n                            {content.title}\n                          </h3>\n                          <h3>\n                            {\n                              content.rules.map(rule => <Tag key={rule._id} color=\"green\"><Link to={`/rules/update/${rule._id}`}><strong>RULE: {rule.title}</strong></Link></Tag>)\n                            }\n                          </h3>\n                        </Card>\n                      </Col>\n                    }) : ''\n                  }\n                </Row>\n              </Spin>\n            </>\n            : <Result\n              title=\"Please sign in as a User from above selector\"\n            />\n        }\n      </div>\n\n    </>\n  )\n}\n\nexport default SimulateUserSession\n","import React, { useEffect, useState } from 'react';\nimport { Layout, Menu, notification, Result } from 'antd';\nimport { GithubOutlined, ScheduleOutlined, UsergroupAddOutlined, LoginOutlined, PicLeftOutlined } from '@ant-design/icons';\nimport { NavLink, useLocation, Route, Switch, Redirect, Link } from 'react-router-dom';\nimport Rules from './pages/Rules';\nimport CreateUpdateRule from './pages/CreateUpdateRule';\nimport Users from './pages/Users';\nimport CreateUpdateUser from './pages/CreateUpdateUser';\nimport Contents from './pages/Contents';\nimport ConfigureContentRules from './pages/ConfigureContentRules';\nimport SimulateUserSession from './pages/SimulateUserSession';\n\nconst { Header, Content, Footer } = Layout;\n\nfunction App() {\n  const [accepted, setAccepted] = useState(localStorage.getItem('termsAccepted'))\n  useEffect(() => {\n    if (!accepted) {\n      notification.warning({\n        message: <h2 style={{ color: '#FAB120' }}>Important Instructions</h2>,\n        duration: null,\n        description: (\n          <ul>\n            <li>All the data used is <strong>fictitious</strong></li>\n            <li>User & content image thumbnails are generated randomly & should not be associated with any kind of <strong>race/color/gender discrimination</strong></li>\n            <li>Available features are just for <strong>demo purpose</strong> & may differ from actual requirements</li>\n            <li>By <strong>clicking or closing</strong> this notification, you agree with above conditions!</li>\n          </ul>\n        ),\n        style: {\n          width: '100%'\n        },\n        onClick: () => {\n          setAccepted(true)\n          localStorage.setItem('termsAccepted', true)\n        },\n        onClose: () => {\n          setAccepted(true)\n          localStorage.setItem('termsAccepted', true)\n        }\n      });\n    }\n  }, [accepted])\n  const location = useLocation();\n  return (\n    <Layout className=\"layout\">\n      <Header>\n        <Link to=\"/\">\n          <div className=\"logo\" >RULE ENGINE DEMO</div>\n        </Link>\n        <Menu theme=\"dark\" mode=\"horizontal\" selectedKeys={[location.pathname,]}>\n          <Menu.Item key=\"/users\">\n            <NavLink to=\"/users\">\n              <UsergroupAddOutlined />\n              <strong>Users</strong>\n            </NavLink>\n          </Menu.Item>\n          <Menu.Item key=\"/rules\">\n            <NavLink to=\"/rules\">\n              <ScheduleOutlined />\n              <strong>Rules</strong>\n            </NavLink>\n          </Menu.Item>\n          <Menu.Item key=\"/contents\">\n            <NavLink to=\"/contents\">\n              <PicLeftOutlined />\n              <strong>Contents</strong>\n            </NavLink>\n          </Menu.Item>\n          <Menu.Item key=\"/simulate\">\n            <NavLink to=\"/simulate\">\n              <LoginOutlined />\n              <strong>Simulate User Session</strong>\n            </NavLink>\n          </Menu.Item>\n          <Menu.Item style={{ float: \"right\" }}>\n            <a target=\"blank\" href=\"https://github.com/rahulbhooteshwar/rule-engine-demo-client\">\n            <GithubOutlined /> <strong style={{color: 'orange'}}>UI</strong>\n            </a>\n          </Menu.Item>\n          <Menu.Item style={{ float: \"right\" }}>\n            <a target=\"blank\" href=\"https://github.com/rahulbhooteshwar/rule-engine-demo-server\">\n            <GithubOutlined /> <strong style={{color: 'orange'}}>API</strong>\n            </a>\n          </Menu.Item>\n          <Menu.Item style={{ float: \"right\" }}>\n            <a target=\"blank\" href=\"https://rahulbhooteshwar.github.io\">\n              Brought to you by: <strong style={{color: 'orange'}}>Rahul Bhooteshwar</strong>\n            </a>\n          </Menu.Item>\n        </Menu>\n      </Header>\n      <Content>\n        <div style={{ backgroundColor: 'white', minHeight: '100vh' }}>\n          {\n            accepted ?\n              <Switch>\n                <Route path=\"/simulate\">\n                  <SimulateUserSession />\n                </Route>\n                <Route path=\"/contents/:_id\">\n                  <ConfigureContentRules />\n                </Route>\n                <Route path=\"/contents\">\n                  <Contents />\n                </Route>\n                <Route path=\"/rules/create\">\n                  <CreateUpdateRule />\n                </Route>\n                <Route path=\"/rules/update/:_id\">\n                  <CreateUpdateRule />\n                </Route>\n                <Route path=\"/rules\">\n                  <Rules />\n                </Route>\n                <Route path=\"/users/create\">\n                  <CreateUpdateUser />\n                </Route>\n                <Route path=\"/users/update/:_id\">\n                  <CreateUpdateUser />\n                </Route>\n                <Route path=\"/users\">\n                  <Users />\n                </Route>\n                <Route path=\"/\">\n                  <Redirect to=\"/users\" />\n                </Route>\n              </Switch>\n\n              : <Result\n                style={{ paddingTop: 200 }}\n                status=\"500\"\n                title=\"Let's be clear at first place\"\n                subTitle=\"Read & Close the notification to continue.\"\n              />\n          }\n        </div>\n      </Content>\n      <Footer style={{ textAlign: 'center' }}>Rule Engine Demo ©2020 Created by <a target=\"blank\" href=\"https://rahulbhooteshwar.github.io\">Rahul Bhooteshwar</a></Footer>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport \"antd/dist/antd.css\";\nimport './index.css';\nimport UserProvider from './context/UserContext';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}